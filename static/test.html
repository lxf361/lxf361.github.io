<!DOCTYPE html>
<html>
<head>
    <style>
        img {
            width: 100%;
        }
    </style>
</head>
<body>
<h2>Input Div:</h2>
<div id="div">
    <p>Just have a <span style='color:white; text-shadow:0 0 2px blue;'>TRY</span>
    </p>
    <p><b>By Dion</b></p>
    <div>
        <img id="Img">
        <img src="kitties_normal_cover.png">
    </div>
</div>
<h2>Output Image:</h2>
<div id="canvasImg">
</div>
<script src="dom-to-image.js"></script>
<script>
    window.onload = function () {
        var divContent = document.getElementById("div");
        var Img = document.getElementById("Img");
        // https://storage.googleapis.com/ck-kitty-image/0x06012c8cf97bead5deae237070f9587f8e7a266d/684747.svg
        // convertImgToBase64('https:////www.baidu.com/img/baidu_jgylogo3.gif',function (base64Img) {
        //   console.log(base64Img);
        //     Img.src=base64Img
        // })
        domtoimage.toPng(divContent).then(function (dataUrl) {
            var img = new Image();
            img.src = dataUrl;
            document.body.appendChild(img);
        }).catch(function (error) {
            console.log('oops, something went wrong!', error);
        });
    }
    function convertImgToBase64(url, callback, outputFormat) {
        var canvas = document.createElement('CANVAS'),
            ctx = canvas.getContext('2d'),
            img = new Image();
        img.crossOrigin = 'Anonymous';
        img.onload = function () {
            canvas.height = img.height;
            canvas.width = img.width;
            ctx.drawImage(img, 0, 0);
            var dataURL = canvas.toDataURL(outputFormat || 'image/png');
            callback.call(this, dataURL);
            canvas = null;
        };
        img.src = url;
    }
</script>
</body>
</html>
